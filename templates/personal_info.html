{% extends "base.html" %}
{% block content %}
<div class="max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-sm border border-gray-100">
    <h1 class="text-2xl font-bold mb-6 text-gray-900">Edit Personal Information</h1>
    
    <form method="POST" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Passport Number</label>
                <input type="text" name="passport_number" value="{{ info.passport_number or '' }}" class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 outline-none">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">School Name</label>
                <input type="text" name="school_name" value="{{ info.school_name or '' }}" class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 outline-none">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">IELTS Score</label>
                <input type="number" step="0.1" name="ielts_score" value="{{ info.ielts_score or '' }}" class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 outline-none">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">SAT Score</label>
                <input type="number" name="sat_score" value="{{ info.sat_score or '' }}" class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 outline-none">
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                <textarea name="address" rows="3" class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 outline-none">{{ info.address or '' }}</textarea>
            </div>
        </div>

        <button type="submit" class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition">
            Save Information
        </button>
    </form>
</div>
{% endblock %}
```

### 2. Update `app.py` (Add the Route)
You need to add this new Python block to your `app.py` so the page actually loads. Paste this in the **Student Flow** section:

```python
@app.route('/student/profile', methods=['GET', 'POST'])
def student_profile():
    if 'user_id' not in session or session['role'] != 'student':
        return redirect(url_for('landing'))
    
    conn = get_db_connection()
    cursor = conn.cursor(dictionary=True)

    if request.method == 'POST':
        # Update database
        sql = """UPDATE personal_info SET 
                 passport_number=%s, school_name=%s, ielts_score=%s, sat_score=%s, address=%s 
                 WHERE user_id=%s"""
        val = (request.form['passport_number'], request.form['school_name'], 
               request.form['ielts_score'], request.form['sat_score'], 
               request.form['address'], session['user_id'])
        cursor.execute(sql, val)
        conn.commit()
        flash('Profile updated successfully!')
    
    # Fetch existing data
    cursor.execute("SELECT * FROM personal_info WHERE user_id = %s", (session['user_id'],))
    info = cursor.fetchone()
    cursor.close()
    conn.close()
    
    return render_template('personal_info.html', info=info)
```

### 3. Add the Link
Finally, open `templates/student_dashboard.html` and add a link so students can find this page. You can add it right next to the Swipe button:

```html
<a href="/student/profile" class="text-blue-600 font-bold hover:underline mx-4">Edit Profile</a>